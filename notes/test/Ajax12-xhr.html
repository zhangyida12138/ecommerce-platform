<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>测试页面</title>
    <style>

    </style>
</head>

<body>
    <p class="my-p"></p>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        const xhr = new XMLHttpRequest();
        // xhr的查询参数必须要添加到url中
        // 可以使用URLSearchParams将对象转换为查询字符串,拼接到url中.

        xhr.open(method, url, async, user, password);//method:请求方法,url:目标的URL,async:true表示同步,false表示异步.user和password可选,表示http的基本认证.
        xhr.setRequestHeader();
        xhr.addEventListener();
        // readystatechange: 请求状态变化时触发，需要结合 readyState 和 status 判断。
        // load: 请求成功完成时触发，不需要手动检查状态。
        // error: 请求由于网络问题等失败时触发。
        // abort: 请求被手动中止时触发。
        // loadstart: 请求开始时触发。
        // loadend: 请求结束时（无论成功或失败）触发。
        // progress: 数据接收过程中触发，适合用来显示下载进度。

        xhr.onload();//这种方式的只能有一个回调函数,后面的会覆盖前面的
        //除了onload以外还有:
        // onerror,请求失败时触发,
        // onprogress请求过程中触发,用于显示进度,
        // onreadystatechange:每次readyState改变时触发,
        // ontimeout请求超时时触发.

        xhr.send(data);//如果有请求体的话(post),在里面作为参数传递.get请求不需要参数.

        //处理响应,可以通过xhr.responseText获取响应文本内容,或者使用xhr.response获取其他响应内容如json.
        /**
        *  xhr.responseText获取响应文本,适用于普通文本,html,json
        *  xhr.response获取具体响应内容,适用于二进制内容,例如图片
        *  xhr.status获取响应的http状态码,例如200,404
        *  xhr.statusText获取响应的状态描述,例如ok,not found等 
        *  xhr.readystates表示请求的档期按状态,取值范围0-4
            0 - 请求未初始化
            1 - 服务器连接已建立
            2 - 请求已接收
            3 - 请求处理中
            4 - 请求完成，响应已就绪
        */
    </script>
</body>

</html>