<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>测试页面</title>
    <style>

    </style>
</head>

<body>
    
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        //Promise的三种状态 pendding-待定，fulfilled已兑现，会调用resolve()，rejected已拒绝，调用reject()
        //状态一旦敲定，就无法改变
        // Promise对象用于表示一个异步操作的最终完成或失败，及其结果值
        // 1。创建promise对象
        const p =new Promise((resolve,reject)=>{
            // 2.执行异步任务，并传递结果
            // 成功调用：resolve值触发，then（）执行
            //失败调用：reject值触发，catch（）执行
            console.log('Promise对象一创建就立刻执行');
            
            setTimeout(()=>{
                //resolve（）=>'fulfilled状态-已兑现'=>then()
                resolve('模拟ajax请求-成功结果');
                //reject（）=>'rejected状态-已失败'=>catch()
                //两个都出现的话，只会是resolve，一旦敲定就不会改变了
                reject(new Error('模拟ajax请求-失败结果'))

            },2000)
        })
        console.log(p);//可以看到状态是pending
        p.then(result=>{
            console.log(result);
            
        })

        p.catch(error=>{
            console.log(error);
        })
    </script>
</body>

</html>